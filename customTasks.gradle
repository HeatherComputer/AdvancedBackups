def copyDestinations = ['../1.7.10-forge', '../1.12-forge', '../1.16-forge', '../1.18-forge', '../1.19.2-forge', '../1.19.3-forge', '../1.20-forge', '../1.20.2-forge', '../1.20.6-forge'
    ,'../1.20.2-neoforge', '../1.20.4-neoforge', '../1.20.5-neoforge'
    , '../1.18-fabric', '../1.19.2-fabric', '../1.19.3-fabric', '../1.20-fabric', '../1.20.2-fabric', '../1.20.5-fabric']


task copyToOtherVersions


copyDestinations.eachWithIndex { outputDir, index ->
    task "copyTo-${outputDir.substring(3)}" (type: Copy, dependsOn: 'jar') {
        doNotTrackState("Must run!")
        from jar
        into outputDir
    }
    copyToOtherVersions.dependsOn tasks["copyTo-${outputDir.substring(3)}"]
    copyToOtherVersions.mustRunAfter tasks["copyTo-${outputDir.substring(3)}"]
}